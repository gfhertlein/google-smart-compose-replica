(window["webpackJsonpgoogle-smart-compose-replica"]=window["webpackJsonpgoogle-smart-compose-replica"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(2),o=r(4),c=r(5),i=r(7),l=r(6),u=r(8),d=r(0),h=r.n(d);r(14);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var g={get getWordsList(){return this.wordsList?this.wordsList:{}},set setWordsList(e){this.wordsList||(this.wordsList={}),this.wordsList=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.wordsList,{},e)}};function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var f=4,w=2,b=function(e){var t=document.getElementById("box"),r=document.createRange(),a=window.getSelection();r.setStart(t.childNodes[0],e),r.collapse(!0),a.removeAllRanges(),a.addRange(r)},v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).updateMessage=function(t){e.autoCompleteWord(t),32===t.which&&"keydown"===t.type&&e.state.toggleAutoComplete&&e.learnNewWords()},e.triggerSuggestions=function(t,r,a){var n=t.target.innerText,s=e.state.words[r].slice(a,e.state.words[r].length);e.setState({matchedTerm:s,matchedWord:!0,html:"".concat(t.target.innerText,'<span class="autocompletion-text">').concat(s,"</span>")});var o=n.length;b(o)},e.autoCompleteWord=function(t){if(8!==t.which&&Object.keys(e.state.words).length){if(13===t.which&&e.state.matchedWord){e.setState({html:t.target.innerText,matchedWord:!1}),n.a.findDOMNode(e.chatBox.current).focus();var r=t.target.innerText.length;b(r),t.preventDefault()}13!==t.which&&e.state.matchedWord&&(e.setState({html:t.target.innerText.slice(0,-e.state.matchedTerm.length),matchedTerm:"",matchedWord:!1}),b(e.state.html.length));var a=t.target.innerText,s=a.split(" "),o=s[s.length-1],c=o?e.checkIfLastWordMatchesExistingWords(o):{};if(c.word){var i=a.split(" "),l=i[i.length-1].substring(0,c.char);e.triggerSuggestions(t,l,c.char)}}},e.learnNewWords=function(){var t=e.chatBox.current.innerText.split(" ").filter((function(e){if(e.length>=f)return e}));if(t.length){var r=g.getWordsList,a={};t.forEach((function(e){var t=function(e){return!!Object.values(g.getWordsList).filter((function(t){return t===e})).length},n=function(e){return!!Object.keys(g.getWordsList).filter((function(t){return t===e})).length},s=e.substring(0,2),o=e.substring(0,3),c=e.substring(0,4),i=function(t){return e.length-t.length>=w};r[s]||!i(s)||t(e)||n(s)?r[o]||!i(o)||t(e)||n(o)?r[c]||!i(c)||t(e)||n(c)||(a[c]=e):a[o]=e:a[s]=e})),g.setWordsList=a,e.setState(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.state,{words:g.getWordsList}))}},e.state={matchedTerm:"",matchedWord:!1,html:"",words:g.getWordsList},e.chatBox=h.a.createRef(),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;["keydown","keyup"].forEach((function(t){e.chatBox.current.addEventListener(t,e.updateMessage,!1)}))}},{key:"checkIfLastWordMatchesExistingWords",value:function(e){var t=this,r={2:function(){return t.state.words[e.slice(0,2)]?{word:t.state.words[e.slice(0,2)],char:2}:{}},3:function(){return t.state.words[e.slice(0,3)]?{word:t.state.words[e.slice(0,3)],char:3}:{}},4:function(){return t.state.words[e.slice(0,4)]?{word:t.state.words[e.slice(0,4)],char:4}:{}},default:{}};return e&&r[e.length]?r[e.length]():r.default}},{key:"render",value:function(){var e=this,t=this.state.words,r=Object.keys(t);return h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-md-3"},r.length?h.a.createElement("div",{className:"wordsList"},h.a.createElement("ul",{className:"list-group"},h.a.createElement("li",{className:"list-group-item active"},"Learned words\xa0",h.a.createElement("span",{className:"badge badge-warning badge-pill"}," ",r.length)),r.map((function(t){return h.a.createElement("li",{className:"list-group-item",key:t},"".concat(t," - ").concat(e.state.words[t]))})))):null),h.a.createElement("div",{className:"card col-md-6"},h.a.createElement("h5",{className:"card-header"},"Google smart compose replica"),h.a.createElement("div",{className:"card-body"},h.a.createElement("div",{className:"ChatBox"},h.a.createElement("div",{className:"ChatBoxMessage"},h.a.createElement("div",{className:"input-group"},h.a.createElement("div",{className:"input-group-prepend"},h.a.createElement("span",{className:"input-group-text"},"Message box")),h.a.createElement("div",{ref:this.chatBox,contentEditable:!0,className:"form-control box",id:"box",rows:"5",dangerouslySetInnerHTML:{__html:this.state.html},"aria-label":"Message"}))),h.a.createElement("br",null)),h.a.createElement("div",null,h.a.createElement("ul",null,h.a.createElement("li",null,"To autocomplete an existing abbreviation from the list press ENTER."),h.a.createElement("li",null,"Words must have a min length of 4 characters."),h.a.createElement("li",null,"Words must have at least 2 characters between the abbreviation and the actual word."))))))}}]),t}(h.a.PureComponent),O=document.getElementById("root");n.a.hydrate(h.a.createElement(v,null),O)},9:function(e,t,r){e.exports=r(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.0683a5db.chunk.js.map